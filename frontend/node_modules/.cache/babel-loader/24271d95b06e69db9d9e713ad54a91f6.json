{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ss106\\\\OneDrive\\\\Desktop\\\\React-Shopping-Cart-master\\\\Shopping-Cart\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ss106\\\\OneDrive\\\\Desktop\\\\React-Shopping-Cart-master\\\\Shopping-Cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { GET_CART, ADD_TO_CART, LOGIN_ERROR, USER_LOGOUT, USER_LOGIN, CART_ERROR, HANDLE_DETAIL, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, GET_BOOKS, BOOKS_ERROR, REGISTER_LOGIN, REGISTER_ERROR } from './action-types/cart-actions';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../../constants/apiConstants';\nexport var addToCart = function addToCart(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                payload = {\n                  \"id\": id,\n                  \"user\": username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + 'cart/add', payload);\n                  dispatch({\n                    type: ADD_TO_CART,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e)\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}; //remove item\n\nexport var removeItem = function removeItem(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                payload = {\n                  \"id\": id,\n                  \"user\": username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + 'cart/item/remove', payload);\n                  dispatch({\n                    type: REMOVE_ITEM,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e),\n                    id: id\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n}; //add cart action\n\nexport var addToDetail = function addToDetail(id) {\n  return {\n    type: HANDLE_DETAIL,\n    id: id\n  };\n}; //subtract qt action\n\nexport var subtractQuantity = function subtractQuantity(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                payload = {\n                  \"id\": id,\n                  \"user\": username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + 'cart/item/decrement', payload);\n                  dispatch({\n                    type: SUB_QUANTITY,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e)\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n}; //add qt action\n\nexport var addQuantity = function addQuantity(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                payload = {\n                  \"id\": id,\n                  \"user\": username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + 'cart/item/increment', payload);\n                  dispatch({\n                    type: ADD_QUANTITY,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e)\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getBooks = function getBooks() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return axios.get(API_BASE_URL + 'books');\n\n              case 3:\n                res = _context5.sent;\n                dispatch({\n                  type: GET_BOOKS,\n                  payload: res.data\n                });\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                dispatch({\n                  type: BOOKS_ERROR,\n                  payload: console.log(_context5.t0)\n                });\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getCart = function getCart(username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                _context6.next = 3;\n                return axios.get(API_BASE_URL + \"cart/user/\" + username);\n\n              case 3:\n                res = _context6.sent;\n                dispatch({\n                  type: GET_CART,\n                  payload: res.data\n                });\n                _context6.next = 10;\n                break;\n\n              case 7:\n                _context6.prev = 7;\n                _context6.t0 = _context6[\"catch\"](0);\n                dispatch({\n                  type: CART_ERROR,\n                  payload: console.log(_context6.t0)\n                });\n\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 7]]);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var userLogin = function userLogin(username, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                payload = {\n                  \"username\": username,\n                  \"password\": password\n                };\n                _context7.prev = 1;\n                _context7.next = 4;\n                return axios.post(API_BASE_URL + 'users/login', payload);\n\n              case 4:\n                res = _context7.sent;\n                dispatch({\n                  type: USER_LOGIN,\n                  payload: res.data,\n                  username: username\n                });\n                _context7.next = 11;\n                break;\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                dispatch({\n                  type: LOGIN_ERROR,\n                  payload: console.log(_context7.t0)\n                });\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[1, 8]]);\n      }));\n\n      return function (_x7) {\n        return _ref7.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var userRegister = function userRegister(username, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref8 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                payload = {\n                  \"username\": username,\n                  \"password\": password\n                };\n                _context8.prev = 1;\n                _context8.next = 4;\n                return axios.post(API_BASE_URL + 'users/login', payload);\n\n              case 4:\n                res = _context8.sent;\n                dispatch({\n                  type: REGISTER_LOGIN,\n                  payload: res.data,\n                  username: username\n                });\n                _context8.next = 11;\n                break;\n\n              case 8:\n                _context8.prev = 8;\n                _context8.t0 = _context8[\"catch\"](1);\n                dispatch({\n                  type: REGISTER_ERROR,\n                  payload: console.log(_context8.t0)\n                });\n\n              case 11:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[1, 8]]);\n      }));\n\n      return function (_x8) {\n        return _ref8.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var userLogout = function userLogout() {\n  return {\n    type: USER_LOGOUT\n  };\n};","map":{"version":3,"sources":["C:\\Users\\ss106\\OneDrive\\Desktop\\React-Shopping-Cart-master\\Shopping-Cart\\src\\components\\actions\\cartActions.js"],"names":["GET_CART","ADD_TO_CART","LOGIN_ERROR","USER_LOGOUT","USER_LOGIN","CART_ERROR","HANDLE_DETAIL","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","GET_BOOKS","BOOKS_ERROR","REGISTER_LOGIN","REGISTER_ERROR","axios","API_BASE_URL","addToCart","id","username","dispatch","payload","res","post","type","data","e","console","log","removeItem","addToDetail","subtractQuantity","addQuantity","getBooks","get","getCart","userLogin","password","userRegister","userLogout"],"mappings":"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","sourcesContent":["\r\nimport { GET_CART,ADD_TO_CART,LOGIN_ERROR,USER_LOGOUT,USER_LOGIN,\r\n    CART_ERROR,HANDLE_DETAIL,REMOVE_ITEM,SUB_QUANTITY,\r\n    ADD_QUANTITY,GET_BOOKS, BOOKS_ERROR,REGISTER_LOGIN,REGISTER_ERROR} from './action-types/cart-actions'\r\nimport axios from 'axios'\r\nimport {API_BASE_URL} from '../../constants/apiConstants'\r\n\r\n\r\nexport const addToCart= (id,username)=> async dispatch => {\r\n    const payload={\r\n        \"id\":id,\r\n        \"user\":username,\r\n    }\r\n    try{\r\n        const res =  axios.post(API_BASE_URL+'cart/add', payload)\r\n        dispatch( {\r\n            type: ADD_TO_CART,\r\n            payload: res.data,\r\n            id\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: BOOKS_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n}\r\n//remove item\r\nexport const removeItem= (id,username)=> async dispatch => {\r\n    const payload={\r\n        \"id\":id,\r\n        \"user\":username,\r\n    }\r\n    try{\r\n        const res =  axios.post(API_BASE_URL+'cart/item/remove', payload)\r\n        dispatch( {\r\n            type: REMOVE_ITEM,\r\n            payload: res.data,\r\n            id\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: BOOKS_ERROR,\r\n            payload: console.log(e),\r\n            id\r\n        })\r\n    }\r\n}\r\n//add cart action\r\nexport const addToDetail= (id)=>{\r\n    return{\r\n        type: HANDLE_DETAIL,\r\n        id\r\n    }\r\n}\r\n\r\n//subtract qt action\r\nexport const subtractQuantity=(id,username)=> async dispatch => {\r\n    const payload={\r\n        \"id\":id,\r\n        \"user\":username,\r\n    }\r\n    try{\r\n        const res =  axios.post(API_BASE_URL+'cart/item/decrement', payload)\r\n        dispatch( {\r\n            type: SUB_QUANTITY,\r\n            payload: res.data,\r\n            id\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: BOOKS_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n}\r\n//add qt action\r\nexport const addQuantity=(id,username)=> async dispatch => {\r\n    const payload={\r\n        \"id\":id,\r\n        \"user\":username,\r\n    }\r\n    try{\r\n        const res =  axios.post(API_BASE_URL+'cart/item/increment', payload)\r\n        dispatch( {\r\n            type: ADD_QUANTITY,\r\n            payload: res.data,\r\n            id\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: BOOKS_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n}\r\n\r\nexport const getBooks = () => async dispatch => {    \r\n    try{\r\n        const res = await axios.get(API_BASE_URL+'books')\r\n        dispatch( {\r\n            type: GET_BOOKS,\r\n            payload: res.data\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: BOOKS_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n}\r\nexport const getCart = (username) => async dispatch => {\r\n    try{\r\n        const res = await axios.get(API_BASE_URL+`cart/user/`+username)\r\n        dispatch( {\r\n            type: GET_CART,\r\n            payload: res.data\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: CART_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n}\r\nexport const userLogin= (username,password)=> async dispatch => {\r\n    const payload={\r\n        \"username\":username,\r\n        \"password\":password,\r\n    }\r\n    try{\r\n        const res = await axios.post(API_BASE_URL+'users/login', payload)\r\n        dispatch( {\r\n            type: USER_LOGIN,\r\n            payload: res.data,\r\n            username:username\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: LOGIN_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n    \r\n}\r\nexport const userRegister= (username,password)=> async dispatch => {\r\n    const payload={\r\n        \"username\":username,\r\n        \"password\":password,\r\n    }\r\n    try{\r\n        const res = await axios.post(API_BASE_URL+'users/login', payload)\r\n        dispatch( {\r\n            type: REGISTER_LOGIN,\r\n            payload: res.data,\r\n            username:username\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: REGISTER_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n    \r\n}\r\n\r\nexport const userLogout= ()=>{\r\n    return{\r\n        type: USER_LOGOUT\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}