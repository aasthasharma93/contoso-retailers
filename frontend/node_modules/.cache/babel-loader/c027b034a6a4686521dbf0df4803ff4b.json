{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ss106\\\\OneDrive\\\\Desktop\\\\React-Shopping-Cart-master\\\\Shopping-Cart\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ss106\\\\OneDrive\\\\Desktop\\\\React-Shopping-Cart-master\\\\Shopping-Cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { GET_CART, ADD_TO_CART, LOGIN_ERROR, USER_LOGOUT, USER_LOGIN, CART_ERROR, HANDLE_DETAIL, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, GET_BOOKS, BOOKS_ERROR, REGISTER_LOGIN, REGISTER_ERROR } from \"./action-types/cart-actions\";\nimport axios from \"axios\";\nimport { API_BASE_URL } from \"../../constants/apiConstants\";\nexport var addToCart = function addToCart(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                payload = {\n                  id: id,\n                  user: username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + \"cart/add\", payload);\n                  dispatch({\n                    type: ADD_TO_CART,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e)\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}; //remove item\n\nexport var removeItem = function removeItem(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                payload = {\n                  id: id,\n                  user: username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + \"cart/item/remove\", payload);\n                  dispatch({\n                    type: REMOVE_ITEM,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e),\n                    id: id\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n}; //add cart action\n\nexport var addToDetail = function addToDetail(id) {\n  return {\n    type: HANDLE_DETAIL,\n    id: id\n  };\n}; //subtract qt action\n\nexport var subtractQuantity = function subtractQuantity(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                payload = {\n                  id: id,\n                  user: username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + \"cart/item/decrement\", payload);\n                  dispatch({\n                    type: SUB_QUANTITY,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e)\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n}; //add qt action\n\nexport var addQuantity = function addQuantity(id, username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                payload = {\n                  id: id,\n                  user: username\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + \"cart/item/increment\", payload);\n                  dispatch({\n                    type: ADD_QUANTITY,\n                    payload: res.data,\n                    id: id\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: BOOKS_ERROR,\n                    payload: console.log(e)\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getBooks = function getBooks() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return axios.get(API_BASE_URL + \"books\");\n\n              case 3:\n                res = _context5.sent;\n                dispatch({\n                  type: GET_BOOKS,\n                  payload: res.data\n                });\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                dispatch({\n                  type: BOOKS_ERROR,\n                  payload: console.log(_context5.t0)\n                });\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getCart = function getCart(username) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                _context6.next = 3;\n                return axios.get(API_BASE_URL + \"cart/user/\" + username);\n\n              case 3:\n                res = _context6.sent;\n                dispatch({\n                  type: GET_CART,\n                  payload: res.data\n                });\n                _context6.next = 10;\n                break;\n\n              case 7:\n                _context6.prev = 7;\n                _context6.t0 = _context6[\"catch\"](0);\n                dispatch({\n                  type: CART_ERROR,\n                  payload: console.log(_context6.t0)\n                });\n\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 7]]);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var userLogin = function userLogin(username, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                payload = {\n                  username: username,\n                  password: password\n                };\n                _context7.prev = 1;\n                _context7.next = 4;\n                return axios.post(API_BASE_URL + \"users/login\", payload);\n\n              case 4:\n                res = _context7.sent;\n                dispatch({\n                  type: USER_LOGIN,\n                  payload: res.data,\n                  username: username\n                });\n                _context7.next = 11;\n                break;\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                dispatch({\n                  type: LOGIN_ERROR,\n                  payload: console.log(_context7.t0)\n                });\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[1, 8]]);\n      }));\n\n      return function (_x7) {\n        return _ref7.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var userRegister = function userRegister(username, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref8 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                payload = {\n                  username: username,\n                  password: password\n                };\n                _context8.prev = 1;\n                _context8.next = 4;\n                return axios.post(API_BASE_URL + \"users/register\", payload);\n\n              case 4:\n                res = _context8.sent;\n                dispatch({\n                  type: REGISTER_LOGIN,\n                  payload: res.data,\n                  username: username\n                });\n                _context8.next = 11;\n                break;\n\n              case 8:\n                _context8.prev = 8;\n                _context8.t0 = _context8[\"catch\"](1);\n                dispatch({\n                  type: REGISTER_ERROR,\n                  payload: console.log(_context8.t0)\n                });\n\n              case 11:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[1, 8]]);\n      }));\n\n      return function (_x8) {\n        return _ref8.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var userLogout = function userLogout() {\n  return {\n    type: USER_LOGOUT\n  };\n};","map":{"version":3,"sources":["C:\\Users\\ss106\\OneDrive\\Desktop\\React-Shopping-Cart-master\\Shopping-Cart\\src\\components\\actions\\cartActions.js"],"names":["GET_CART","ADD_TO_CART","LOGIN_ERROR","USER_LOGOUT","USER_LOGIN","CART_ERROR","HANDLE_DETAIL","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","GET_BOOKS","BOOKS_ERROR","REGISTER_LOGIN","REGISTER_ERROR","axios","API_BASE_URL","addToCart","id","username","dispatch","payload","user","res","post","type","data","e","console","log","removeItem","addToDetail","subtractQuantity","addQuantity","getBooks","get","getCart","userLogin","password","userRegister","userLogout"],"mappings":"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","sourcesContent":["import {\r\n  GET_CART,\r\n  ADD_TO_CART,\r\n  LOGIN_ERROR,\r\n  USER_LOGOUT,\r\n  USER_LOGIN,\r\n  CART_ERROR,\r\n  HANDLE_DETAIL,\r\n  REMOVE_ITEM,\r\n  SUB_QUANTITY,\r\n  ADD_QUANTITY,\r\n  GET_BOOKS,\r\n  BOOKS_ERROR,\r\n  REGISTER_LOGIN,\r\n  REGISTER_ERROR,\r\n} from \"./action-types/cart-actions\";\r\nimport axios from \"axios\";\r\nimport { API_BASE_URL } from \"../../constants/apiConstants\";\r\n\r\nexport const addToCart = (id, username) => async (dispatch) => {\r\n  const payload = {\r\n    id: id,\r\n    user: username,\r\n  };\r\n  try {\r\n    const res = axios.post(API_BASE_URL + \"cart/add\", payload);\r\n    dispatch({\r\n      type: ADD_TO_CART,\r\n      payload: res.data,\r\n      id,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: BOOKS_ERROR,\r\n      payload: console.log(e),\r\n    });\r\n  }\r\n};\r\n//remove item\r\nexport const removeItem = (id, username) => async (dispatch) => {\r\n  const payload = {\r\n    id: id,\r\n    user: username,\r\n  };\r\n  try {\r\n    const res = axios.post(API_BASE_URL + \"cart/item/remove\", payload);\r\n    dispatch({\r\n      type: REMOVE_ITEM,\r\n      payload: res.data,\r\n      id,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: BOOKS_ERROR,\r\n      payload: console.log(e),\r\n      id,\r\n    });\r\n  }\r\n};\r\n//add cart action\r\nexport const addToDetail = (id) => {\r\n  return {\r\n    type: HANDLE_DETAIL,\r\n    id,\r\n  };\r\n};\r\n\r\n//subtract qt action\r\nexport const subtractQuantity = (id, username) => async (dispatch) => {\r\n  const payload = {\r\n    id: id,\r\n    user: username,\r\n  };\r\n  try {\r\n    const res = axios.post(API_BASE_URL + \"cart/item/decrement\", payload);\r\n    dispatch({\r\n      type: SUB_QUANTITY,\r\n      payload: res.data,\r\n      id,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: BOOKS_ERROR,\r\n      payload: console.log(e),\r\n    });\r\n  }\r\n};\r\n//add qt action\r\nexport const addQuantity = (id, username) => async (dispatch) => {\r\n  const payload = {\r\n    id: id,\r\n    user: username,\r\n  };\r\n  try {\r\n    const res = axios.post(API_BASE_URL + \"cart/item/increment\", payload);\r\n    dispatch({\r\n      type: ADD_QUANTITY,\r\n      payload: res.data,\r\n      id,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: BOOKS_ERROR,\r\n      payload: console.log(e),\r\n    });\r\n  }\r\n};\r\n\r\nexport const getBooks = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(API_BASE_URL + \"books\");\r\n    dispatch({\r\n      type: GET_BOOKS,\r\n      payload: res.data,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: BOOKS_ERROR,\r\n      payload: console.log(e),\r\n    });\r\n  }\r\n};\r\nexport const getCart = (username) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(API_BASE_URL + `cart/user/` + username);\r\n    dispatch({\r\n      type: GET_CART,\r\n      payload: res.data,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: CART_ERROR,\r\n      payload: console.log(e),\r\n    });\r\n  }\r\n};\r\nexport const userLogin = (username, password) => async (dispatch) => {\r\n  const payload = {\r\n    username: username,\r\n    password: password,\r\n  };\r\n  try {\r\n    const res = await axios.post(API_BASE_URL + \"users/login\", payload);\r\n    dispatch({\r\n      type: USER_LOGIN,\r\n      payload: res.data,\r\n      username: username,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: LOGIN_ERROR,\r\n      payload: console.log(e),\r\n    });\r\n  }\r\n};\r\nexport const userRegister = (username, password) => async (dispatch) => {\r\n  const payload = {\r\n    username: username,\r\n    password: password,\r\n  };\r\n  try {\r\n    const res = await axios.post(API_BASE_URL + \"users/register\", payload);\r\n    dispatch({\r\n      type: REGISTER_LOGIN,\r\n      payload: res.data,\r\n      username: username,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: REGISTER_ERROR,\r\n      payload: console.log(e),\r\n    });\r\n  }\r\n};\r\n\r\nexport const userLogout = () => {\r\n  return {\r\n    type: USER_LOGOUT,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}