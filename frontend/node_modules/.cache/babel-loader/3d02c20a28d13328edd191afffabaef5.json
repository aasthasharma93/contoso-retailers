{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ss106\\\\OneDrive\\\\Desktop\\\\React-Shopping-Cart-master\\\\Shopping-Cart\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ss106\\\\OneDrive\\\\Desktop\\\\React-Shopping-Cart-master\\\\Shopping-Cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { LOGIN_ERROR, USER_LOGIN } from './action-types/cart-actions';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../../constants/apiConstants'; //handle detail\n\nexport var userLogin = function userLogin(username, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var payload, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                payload = {\n                  \"username\": username,\n                  \"password\": password\n                };\n\n                try {\n                  res = axios.post(API_BASE_URL + 'users/login', payload);\n                  dispatch({\n                    type: USER_LOGIN,\n                    payload: res.data,\n                    username: username\n                  });\n                } catch (e) {\n                  dispatch({\n                    type: LOGIN_ERROR,\n                    payload: console.log(e)\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["C:\\Users\\ss106\\OneDrive\\Desktop\\React-Shopping-Cart-master\\Shopping-Cart\\src\\components\\actions\\loginAction.js"],"names":["LOGIN_ERROR","USER_LOGIN","axios","API_BASE_URL","userLogin","username","password","dispatch","payload","res","post","type","data","e","console","log"],"mappings":";;AAAA,SAAQA,WAAR,EAAoBC,UAApB,QAAqC,6BAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,YAAR,QAA2B,8BAA3B,C,CACA;;AACA,OAAO,IAAMC,SAAS,GAAE,SAAXA,SAAW,CAACC,QAAD,EAAUC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAsB,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACpCC,gBAAAA,OADoC,GAC5B;AACV,8BAAWH,QADD;AAEV,8BAAWC;AAFD,iBAD4B;;AAK1C,oBAAG;AACOG,kBAAAA,GADP,GACcP,KAAK,CAACQ,IAAN,CAAWP,YAAY,GAAC,aAAxB,EAAuCK,OAAvC,CADd;AAECD,kBAAAA,QAAQ,CAAE;AACNI,oBAAAA,IAAI,EAAEV,UADA;AAENO,oBAAAA,OAAO,EAAEC,GAAG,CAACG,IAFP;AAGNP,oBAAAA,QAAQ,EAACA;AAHH,mBAAF,CAAR;AAKH,iBAPD,CAQA,OAAMQ,CAAN,EAAQ;AACJN,kBAAAA,QAAQ,CAAE;AACNI,oBAAAA,IAAI,EAAEX,WADA;AAENQ,oBAAAA,OAAO,EAAEM,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAFH,mBAAF,CAAR;AAIH;;AAlByC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAtB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB","sourcesContent":["import {LOGIN_ERROR,USER_LOGIN} from './action-types/cart-actions'\r\nimport axios from 'axios'\r\nimport {API_BASE_URL} from '../../constants/apiConstants'\r\n//handle detail\r\nexport const userLogin= (username,password)=> async dispatch => {\r\n    const payload={\r\n        \"username\":username,\r\n        \"password\":password,\r\n    }\r\n    try{\r\n        const res =  axios.post(API_BASE_URL+'users/login', payload)\r\n        dispatch( {\r\n            type: USER_LOGIN,\r\n            payload: res.data,\r\n            username:username\r\n        })\r\n    }\r\n    catch(e){\r\n        dispatch( {\r\n            type: LOGIN_ERROR,\r\n            payload: console.log(e),\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}